package projectAES;

import java.io.BufferedReader;
import java.io.FileReader;
import java.io.IOException;

public class AES {

	public static void main(String[] args) {
		String[] sa = inputFile("input.txt");
		System.out.println(toString(sa));
		
		//Make sa[0] a polynomial
		System.out.println(sa[0]);
		int[] mX = getPoly(sa[0]);

		//Add into an array of size 16 every 2 bits for sa[1 through 3]
		//sa[1] = key
		//sa[2] = plaintext
		//sa[3] = ciphertext
	}
    /** 
    * inputFile Receives the parameter  filename that is the name of the file to be input.
    * 
    * @param fileName the name of the file to be input
    *
    * @return polynomial an array containing the polynomial
    *
    */
	public static String[] inputFile(String fileName){
		String[] sa = new String[4];
		String line = "";
		//Added to file location
		fileName = "/Users/zacharybensley/Dropbox/COSC_620_SecurityInComputing/Assignments/8AES_Project/" + fileName;
        try (BufferedReader in = new BufferedReader(new FileReader(fileName))) {
            int i = 0;
            while((line = in.readLine()) != null){
            	//System.out.println("Line: " + line);
                sa[i] = line;
                i++;
            }
        }
        catch (IOException e) {
            System.out.println("inputFile() ERROR");
        }
        finally {
            return sa;
        }
	}
    /** 
    * toString Receives an array and prints the polynomial according to the following format:
    * ax^2 + bx + c = a b c
    *
    * @param int[] outArray The array to be formatted to a string
    *
    * @return A formatted string that represents the outArray polynomial
    */
    public static String toString(String[] outArray){
    	String s = "";
		for(int k = 0; k < outArray.length; k++){
			s += outArray[k] + " ";
		}
		return s;
    }
	public static int[] getPoly(String unparsedPoly){
		//get degree
		int space = 0;
		for(int j = 0; j < unparsedPoly.length() - 1; j++){
			if(unparsedPoly.charAt(j) == ' '){
				space++;
			}
		}
		
		//Create an array of size degree
		int[] poly = new int[space + 1];
		
		String[] sa = unparsedPoly.split(" ");
		String stud = "";
		for(String s: sa){
			stud += s + " ";
		}
			//System.out.println(stud);
		//Fill array from size to 0 with unparsedPoly
		for(int i = 0; i <= space + 1; i++){
			poly[i] = Integer.parseInt(sa[i]);
		}
		//return polyArray
		return poly;
	}
}
